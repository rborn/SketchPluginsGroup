!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var a in r)("object"==typeof exports?exports:e)[a]=r[a]}}(this,function(){return function(e){function t(a){if(r[a])return r[a].exports;var o=r[a]={exports:{},id:a,loaded:!1};return e[a].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){var t=e.panel,r=t.arguments(),a=r.initialPath,o=G.showOpenPanel(a);o&&t.callback({path:o})}function n(e,t){return e.containsObject(t)?n(e,t+1):t}function i(e){var t=e.panel,r=e.command,a=e.document.currentPage(),o=NSMutableDictionary.alloc().init();return(0,I.iterate)(a.children(),function(e){var a=r.valueForKey_onLayer_forPluginIdentifier("original-layer",e,t.identifier());a&&!o.objectForKey(a.originalID)&&o.setObject_forKey(a,a.originalID)}),o}function l(e,t,r){if(!r)return void e.callback_forIdentifier({path:t},"library-deleted");var a=r.data,o=r.metadata,n={path:t,data:a,metadata:o};e.callback_forIdentifier(n,"library-data")}function s(e){var t=e.panel,r=G.showOpenPanel();if(r){var a=F.load(r,i(e));l(t,r,a)}}function c(e){var t=e.panel,r=t.arguments(),a=r.path;if(a){var o=F.load(a,i(e));l(t,a,o)}}function u(e){var t=e.panel,r=t.arguments(),a=F.create(r.path,r.name);t.callback_forIdentifier(a,"library-data")}function d(e){var t=e.panel.arguments();F.setMetadataValue(t.libraryPath,t.key,t.value)}function f(e){var t=e.panel.arguments();F.removeObject(t.libraryPath,t.objectID,t.objectType)}function y(e){var t=e.panel.arguments();(0,I.iterate)(t.objectIDs,function(e){F.removeObject(t.libraryPath,e,t.objectType)})}function g(e){var t=e.panel.arguments();F.setObjectName(t.libraryPath,t.objectID,t.objectType,t.name)}function v(e){var t=e.panel,r=t.arguments(),a=r.libraryPath,o=r.objectType,n=r.objects;(0,I.iterate)(n,function(e){var t=e.index,r=e.objectID;F.setMetadataAttributes(a,r,o,{index:t})})}function S(e){var t=e.panel.arguments(),r=t.libraryPath,a=t.objects,o=t.objectType;(0,I.iterate)(a,function(e){var t=e.index,a=e.secondaryIndex,n=e.category,i=e.objectID;F.setMetadataAttributes(r,i,o,{index:t,secondaryIndex:a,category:n})})}function p(e){var t=e.fontPostscriptName,r=e.fontSize,a=e.lineHeight,o=e.color,n=(0,q.rgbaToHex)(o),i=n.alpha,l=n.hex;return{fontPostscriptName:t,fontSize:r,lineHeight:a,colorAlpha:i,colorHex:l,text:""}}function m(e){var t=e.panel,r=e.selection;if(1!==r.count()||!(0,I.isTextLayer)(r.firstObject()))return void(0,I.showAlert)("Please select just one specific text layer.");var a=r.firstObject(),o=F.textStyle.getLayerTextStyle(a),n=t.arguments(),i=(0,I.map)(n.textStyles,p);if(i.containsObject(p(o)))return void(0,I.showAlert)("Text Style is already in a library.");var l=t.arguments(),s=l.libraryPath,c=l.index,u=l.category,d=l.objectID,f=F.textStyle.add(s,o,a.name(),c,u,d);t.callback(f)}function h(e){var t=(0,I.filterArrayByClass)(e.selection,MSTextLayer);if(0===t.count())return void(0,I.showAlert)("Please select text layer...");var r=e.panel,a=r.arguments(),o=a.fontPostscriptName,n=a.fontSize,i=NSFont.fontWithName_size(o,n);if(!i){var l="Font '"+String(o)+"' cannot be found on your system. Do you want apply text style?";if(!(0,I.showConfirm)(r.name(),l))return}(0,I.iterate)(t,function(e){F.textStyle.set(e,a)})}function b(e){var t=e.panel,r=e.selection;if(1!==r.count())return void(0,I.showAlert)("Please select just one specific layer, group, symbol or an artboard.");var a=F.color.getLayerColor(r.firstObject());if(!a)return void(0,I.showAlert)("Selected layer doesnâ€™t have a color.");var o=t.arguments(),n=(0,I.map)(o.colors,q.rgbaToHex);if(n.containsObject((0,q.rgbaToHex)(a)))return void(0,I.showAlert)("Color is already in a library.");var i=o.libraryPath,l=o.index,s=o.category,c=o.objectID,u=F.color.add(i,a,null,l,s,c);t.callback(u)}function M(e){var t=e.panel,r=e.selection;if(0===r.count())return void(0,I.showAlert)("Please select layer...");var a=(0,I.rgbaToMSColor)(t.arguments().color);(0,I.iterate)(r,function(e){F.color.set(e,a)})}function A(e){var t=e.selection;if(1!==t.count())return void(0,I.showAlert)("Please select just one specific layer, group, symbol or an artboard.");var r=e.panel,a=e.command,o=e.document,n=r.arguments(),i=n.libraryPath,l=n.category,s=n.version,c=n.objectID,u=n.index,d=n.secondaryIndex,f=t.firstObject(),y=F.layer.add(i,o,a,r.identifier(),f,c,s,l,u,d);if(c){var g=e.document.currentPage();g.deselectAllLayers(),F.layer.reload(i,o,a,r.identifier(),g,NSArray.arrayWithObject(c))}r.callback(y)}function N(e){var t=e.command,r=e.document,a=e.panel,o=a.arguments(),n=o.libraryPath,i=o.originalIds,l=e.document.currentPage();F.layer.reload(n,r,t,a.identifier(),l,i)}function P(e,t,r,a){var o=L.doc.getPageFromName(t,U.PAGE_NAME),n=t.currentPage().name(),i={},l=0;o?o.removeAllLayers():o=L.doc.addPage(t,U.PAGE_NAME);var s=W.generate(e,t,r,o,a.colorPalette);s&&(i.colors=s.colors,l=s.height);var c=H.generate(e,t,o,l);c&&(i.fonts=c.fonts,l=c.height);var u=k.generate(e,t,r,o,a.textStyles,l);return u&&(i.textStyles=u.textStyles),t.setCurrentPage(o),n.isEqualToString(U.PAGE_NAME)||L.doc.zoom100Center(t),i}function x(e,t,r){var a=L.doc.getPageFromName(t,U.PAGE_NAME),o={},n=void 0,i=void 0;if(!a)return P(e,t,r,o);t.setCurrentPage(a);var l=t.documentData().assets(),s=l.colors(),c=W.getArtboard(a);if(c){var u=W.getData(r,c);o.colorPalette=u.variables,n=u.data,u.data.forEach(function(t){var r=t.fromColor,a=t.toColor;"function"==typeof s.removeObject?s.removeObject(r):l.removeColor(r),r.fuzzyIsEqual(a)||e.replaceColor_withColor(r,a)})}var d=H.getArtboard(a);d&&(i=H.getData(d),i.forEach(function(t){var r=t.fromFont,a=t.toFont;r.isEqualToString(a)||e.replaceFont_withFont(r,a)}));var f=k.getArtboard(a);if(f){var y=k.getData(t,r,f,n,i);o.textStyles=y.variables,y.data.forEach(function(t){t.key!==t.newKey&&e.replaceTextStyle_withTextStyle(t.key,t.newData)})}return P(e,t,r,o)}function D(e){var t=e.panel,r=e.document,a=e.command;r.window().closePopovers();var o=StyleGuideHelpers.alloc().init();o.load(r);var n=x(o,r,a);r.reloadInspector();var i={id:r.documentData().objectID(),colors:(0,q.getCount)(n.colors),fonts:(0,q.getCount)(n.fonts),textStyles:(0,q.getCount)(n.textStyles)};t.callback(i)}function O(e){var t=e.document,r=e.panel,a=r.arguments().title,o=L.doc.getPageFromName(t,U.PAGE_NAME);if(o){t.setCurrentPage(o);var n=L.page.getArtboardFromName(o,a);n&&L.doc.zoomTo(t,n)}}function T(e,t){var r=void 0;return(0,I.iterate)(e,function(e){var a=e.color;return!a.isEqual(t)||(r=e,!1)}),r}function C(e){var t=e.document,r=e.panel,a=e.command,o=L.doc.getPageFromName(t,U.PAGE_NAME),i=void 0;if(o){var l=W.getArtboard(o);l&&(i=W.getData(a,l).data)}if(i){var s=r.arguments(),c=NSMutableArray.alloc().initWithArray(s.usedIndexes),u=(0,I.map)(s.colors,function(e){var t=e.objectID,r=e.color;return{objectID:t,color:(0,q.rgbaToHex)(r)}});F.findOrCreateCategory(s.libraryPath,"Document Colors","color");var d=[],f=0;i.forEach(function(e){var t=e.toColor,r=e.name,a=t.RGBADictionary(),o=T(u,(0,q.rgbaToHex)(a));if(o)F.setObjectName(s.libraryPath,o.objectID,"color",r);else{f=n(c,f),c.addObject(f);var i=F.color.add(s.libraryPath,a,r,f,NSString.stringWithString("Document Colors"));d.push(i)}}),r.callback(d)}}function j(e,t){var r=void 0;return(0,I.iterate)(e,function(e){var a=e.textStyle;return!a.isEqual(t)||(r=e,!1)}),r}function _(e){var t=e.document,r=e.panel,a=e.command,o=L.doc.getPageFromName(t,U.PAGE_NAME),i=void 0;if(o){var l=k.getArtboard(o);l&&(i=k.getData(t,a,l).data)}if(i){var s=r.arguments(),c=NSMutableArray.alloc().initWithArray(s.usedIndexes),u=(0,I.map)(s.textStyles,function(e){var t=e.objectID,r=e.textStyle;return{objectID:t,textStyle:p(r)}});F.findOrCreateCategory(s.libraryPath,"Document Text Styles","textstyle");var d=[],f=0;i.forEach(function(e){var t=e.newData,r=e.name,a=t.fontPostscriptName,o=t.fontSize,i=t.lineHeight,l=t.colorHex,y=t.colorAlpha,g=L.color.fromString(l);g.setAlpha(y);var v={fontPostscriptName:a,fontSize:o,lineHeight:i,color:g.RGBADictionary()},S=j(u,p(v));if(S)F.setObjectName(s.libraryPath,S.objectID,"textstyle",r);else{f=n(c,f),c.addObject(f);var m=F.textStyle.add(s.libraryPath,v,r,f,NSString.stringWithString("Document Text Styles"));d.push(m)}}),r.callback(d)}}Object.defineProperty(t,"__esModule",{value:!0}),t.chooseFolder=o,t.chooseLibrary=s,t.importLibrary=c,t.createLibrary=u,t.setMetadata=d,t.removeObject=f,t.removeObjects=y,t.setObjectName=g,t.setObjectsIndex=v,t.changeObjectsCategory=S,t.addTextStyle=m,t.setTextStyle=h,t.addColor=b,t.setColor=M,t.addLayer=A,t.reloadLayer=N,t.syncStyleguide=D,t.showStyleguide=O,t.addColorsFromStyleGuide=C,t.addTextStylesFromStyleGuide=_;var I=r(1),L=a(I),R=r(9),F=a(R),B=r(15),G=a(B),E=r(16),U=a(E),w=r(17),W=a(w),z=r(19),H=a(z),V=r(20),k=a(V),q=r(18)},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e,t){for(var r=e.objectEnumerator(),a=void 0;(a=r.nextObject())&&t(a)!==!1;);}function n(e,t){var r=NSMutableArray.alloc().init();return o(e,function(e){r.addObject(t(e))}),r}function i(e,t){var r=NSMutableArray.alloc().init();return o(e,function(e){t(e)&&r.addObject(e)}),r}function l(e,t){var r=NSPredicate.predicateWithFormat("self isMemberOfClass: %@",t);return e.filteredArrayUsingPredicate(r)}function s(e){return Math.round(100*e)/100}function c(e,t,r){var a=e[t];return void 0===a||null===a?r:a}function u(e){return e.class()===MSSymbolInstance}function d(e){return e.class()===MSSymbolMaster}function f(e){return e.class()===MSTextLayer}function y(e){var t=e.r,r=e.g,a=e.b,o=e.a;return MSColor.colorWithRed_green_blue_alpha(t,r,a,o)}function g(e){return"function"==typeof e.array?e.array():e}Object.defineProperty(t,"__esModule",{value:!0}),t.color=t.action=t.doc=t.page=t.layer=t.pasteboard=t.showConfirm=t.showAlert=void 0,t.iterate=o,t.map=n,t.filter=i,t.filterArrayByClass=l,t.round100=s,t.get=c,t.isSymbol=u,t.isSymbolMaster=d,t.isTextLayer=f,t.rgbaToMSColor=y,t.getArray=g;var v=r(2);Object.defineProperty(t,"showAlert",{enumerable:!0,get:function(){return v.showAlert}}),Object.defineProperty(t,"showConfirm",{enumerable:!0,get:function(){return v.showConfirm}});var S=r(3),p=a(S),m=r(4),h=a(m),b=r(6),M=a(b),A=r(7),N=a(A),P=r(8),x=a(P),D=r(5),O=a(D);t.pasteboard=p,t.layer=h,t.page=M,t.doc=N,t.action=x,t.color=O},function(e,t){"use strict";function r(e){var t=NSAlert.alloc().init();t.setAlertStyle(o.NSWarningAlertStyle),t.setMessageText(e),t.runModal()}function a(e,t){var r=NSAlert.alloc().init();return r.addButtonWithTitle("OK"),r.addButtonWithTitle("Cancel"),r.setInformativeText(t),r.setMessageText(e),r.runModal()===NSAlertFirstButtonReturn}Object.defineProperty(t,"__esModule",{value:!0}),t.showAlert=r,t.showConfirm=a;var o={NSWarningAlertStyle:0,NSInformationalAlertStyle:1,NSCriticalAlertStyle:2}},function(e,t){"use strict";function r(e){var t=NSPasteboard.generalPasteboard();t.declareTypes_owner([NSPasteboardTypeString],null),t.setString_forType(e,NSPasteboardTypeString)}Object.defineProperty(t,"__esModule",{value:!0}),t.writeString=r},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e,t){t.addLayers(NSArray.arrayWithObject(e))}function n(e,t){var r=NSBezierPath.bezierPathWithRect(e),a=MSShapeGroup.shapeWithBezierPath(r);return o(a,t),"function"==typeof a.embedInShapeGroup&&(a=a.embedInShapeGroup()),a}function i(e){var t=MSTextLayer.alloc().initWithFrame(CGRectMake(0,0,100,100));return t.adjustFrameToFit(),o(t,e),t}function l(e,t){var r=MSLayerGroup.alloc().initWithFrame(e);return o(r,t),r}function s(e,t,r){var a=e.style(),o=a.borders(),n=void 0;n="function"==typeof o.addNewStylePart?o.addNewStylePart():a.addStylePartOfType(1);var i=f.fromString(t);n.setColor(i),n.setPosition(r)}function c(e){e&&e.removeFromParent()}function u(e,t,r){var a=e.userInfo().objectForKey(t);if(a)return a.objectForKey(r)}Object.defineProperty(t,"__esModule",{value:!0}),t.addToGroup=o,t.addRectangleLayerToGroup=n,t.addTextLayerToGroup=i,t.addGroupToGroup=l,t.addBorder=s,t.removeFromParent=c,t.getUserInfoValue=u;var d=r(5),f=a(d)},function(e,t){"use strict";function r(e){if("function"==typeof MSColor.colorWithSVGString)return MSColor.colorWithSVGString(e);var t=MSImmutableColor.colorWithSVGString(e);return MSColor.alloc().initWithImmutableObject(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.fromString=r},function(e,t){"use strict";function r(e,t){for(var r=e.artboards(),a=r.count()-1;a>=0;a--){var o=r[a];if(o.name().isEqualToString(t))return o}}function a(e,t,r){if(e.artboards().count()>r){var a=e.artboards()[r];if(a.name().isEqualToString(t))return a}}function o(e,t,r){var a=MSArtboardGroup.alloc().initWithFrame(r);return e.addLayers([a]),a.setName(t),a}Object.defineProperty(t,"__esModule",{value:!0}),t.getArtboardFromName=r,t.getArtboardFromNameAndIndex=a,t.addArtboard=o},function(e,t){"use strict";function r(e,t){var r=e.addBlankPage();return r.setName(t),e.setCurrentPage(r),r}function a(e,t){for(var r=e.pages(),a=r.count()-1;a>=0;a--){var o=r[a];if(o.name().isEqualToString(t))return o}}function o(e,t){var r=e.currentView();t.setIsSelected(!0),r.zoomToSelection(),t.setIsSelected(!1)}function n(e){var t=e.currentView();"function"==typeof t.actualSizeWithoutAnimating?t.actualSizeWithoutAnimating():t.zoomToActualSizeAnimated(!1),t.animateScrollOriginToPoint(CGPointMake(100,100))}Object.defineProperty(t,"__esModule",{value:!0}),t.addPage=r,t.getPageFromName=a,t.zoomTo=o,t.zoom100Center=n},function(e,t){"use strict";function r(e,t){var r=e.actionsController();return"function"==typeof r.actionWithName?r.actionWithName(t):r.actionWithID(t)}function a(e){var t=r(e,"MSGroupAction");t.group(null);var a=e.selectedLayers(),o=void 0;return o="function"==typeof a.firstObject?a.firstObject():a.firstLayer()}function o(e,t){var a=t.name(),o=r(e,"MSClippingMaskAction");o.clippingMask(null),t.setName(a)}Object.defineProperty(t,"__esModule",{value:!0}),t.get=r,t.groupSelection=a,t.toggleClipping=o},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){var t=e.stringByAppendingPathComponent("metadata.json"),r=NSString.stringWithContentsOfURL_encoding_error(NSURL.fileURLWithPath(t),NSUTF8StringEncoding,null);if(r)return JSON.parse(String(r));var a=e.lastPathComponent().stringByDeletingPathExtension(),o={modificationTime:Date.now(),name:a};return(0,h.saveMetadata)(e,o),o}function n(e,t,r){var a=o(e),n=a.categories,i=n.filter(function(e){return e.name===t&&r===e.type});0===i.length&&n.push({name:t,type:r}),(0,h.saveMetadata)(e,a)}function i(e,t){var r=NSURL.fileURLWithPath_isDirectory(e,!0),a=[],n=NSFileManager.defaultManager().contentsOfDirectoryAtURL_includingPropertiesForKeys_options_error(r,[NSURLIsDirectoryKey],NSDirectoryEnumerationSkipsHiddenFiles,null);if(n){var i=o(e),l=!0,s=void 0;return i.categories||(l=!1,s=NSMutableSet.alloc().init()),(0,f.iterate)(n,function(e){var r=e.pathExtension(),o=r.isEqualToString("layer"),n=r.isEqualToString("color"),i=r.isEqualToString("textstyle");if(n||o||i){var c=e.lastPathComponent().stringByDeletingPathExtension(),u=e.URLByAppendingPathComponent("metadata.json"),d=(0,h.readMetadata)(u);if(!d)return;if(o){if(!l){var f=void 0;d.category?f=d.category:(f="Uncategorized",d.index=0),d.category=f,s.addObject({name:f,type:"layer"}),(0,h.saveMetadata)(e.path(),d)}var y=t.objectForKey(c);y&&(d.documentVersion=y.version),d.objectType="layer"}else n?(l||(d.category="Colors",s.addObject({name:"Colors",type:"color"}),(0,h.saveMetadata)(e.path(),d)),d.objectType="color"):i&&(l||(d.category="Text styles",s.addObject({name:"Text styles",type:"textstyle"}),(0,h.saveMetadata)(e.path(),d)),d.objectType="textstyle");d.objectID=c,a.push(d)}}),!l&&s&&(i.categories=s.allObjects(),(0,h.saveMetadata)(e,i)),{metadata:i,data:a}}}function l(e,t){var r=e.stringByAppendingPathComponent(String(t)+".library");ICUtils.createDirectoryIfNotExist(r);var a={modificationTime:Date.now(),name:t,categories:[{name:"Uncategorized",type:"layer",index:0},{name:"Colors",type:"color"},{name:"Text Styles",type:"textstyle"}]};return(0,h.saveMetadata)(r,a),{path:r,data:[],metadata:a}}function s(e,t,r){var a=e.stringByAppendingPathComponent("metadata.json"),o=(0,h.readMetadata)(NSURL.fileURLWithPath(a));o[t]=r,(0,h.saveMetadata)(e,o)}function c(e,t,r){var a=e.stringByAppendingPathComponent(String(t)+"."+r);NSFileManager.defaultManager().removeItemAtPath_error(a,null),(0,h.setModificationDate)(e)}function u(e,t,r,a){var o=e.stringByAppendingPathComponent(String(t)+"."+r+"/metadata.json"),n=(0,h.readMetadata)(NSURL.fileURLWithPath(o));for(var i in a){var l=a[i];null===l?delete n[i]:n[i]=l}var s=ICUtils.objectToJSONString(n);return s.writeToFile_atomically_encoding_error(o,!0,NSUTF8StringEncoding,null),n}function d(e,t,r,a){u(e,t,r,{name:a})}Object.defineProperty(t,"__esModule",{value:!0}),t.textStyle=t.color=t.layer=void 0,t.findOrCreateCategory=n,t.load=i,t.create=l,t.setMetadataValue=s,t.removeObject=c,t.setMetadataAttributes=u,t.setObjectName=d;var f=r(1),y=r(10),g=a(y),v=r(12),S=a(v),p=r(14),m=a(p),h=r(11);t.layer=g,t.color=S,t.textStyle=m},function(e,t,r){"use strict";function a(e,t,r,a){var o=MSExportRequest.exportRequestsFromExportableLayer(e),n=o.firstObject(),i=n.rect(),l=i.size,s=l.width,c=l.height,u=void 0;s<t&&c<r?(i.origin.x-=Math.round(t/4-s/2),i.origin.y-=Math.round(r/4-c/2),i.size.width=t/2,i.size.height=r/2,n.setRect(i),u=2):u=s<=t?1:t/s,n.setFormat("png"),n.setScale(u);var d=void 0;if("function"==typeof MSExportManager.dataForRequest)d=MSExportManager.dataForRequest(n);else{var f=MSExportManager.alloc().init();d=f.exportedDataForRequest(n)}d.writeToFile_atomically(a,!0)}function o(e,t,r,o,n,i,c,u,d,f){var y=n,g=void 0,v=MSPasteboardLayersReaderWriter.alloc().init(),S=void 0;S="function"==typeof t.selectedLayersA?t.selectedLayersA():t.selectedLayers(),g=v.usedSymbolsInContainer_document(S,t.documentData()),n instanceof MSSymbolMaster&&(n=n.newSymbolInstance(),g=NSMutableDictionary.alloc().initWithDictionary(g),g.setObject_forKey(y.immutableModelObject(),String(y.objectID())));var p=n.name();c?c+=1:c=1,i||(i=NSUUID.UUID().UUIDString());var m=e.stringByAppendingPathComponent(String(i)+".layer");ICUtils.createDirectoryIfNotExist(m);var h=m.stringByAppendingPathComponent("data"),b=m.stringByAppendingPathComponent("preview.png"),M={name:p,version:c,index:d},A={objectID:i,name:p,version:c,index:d,objectType:"layer"};u&&(M.category=u,A.category=u),f&&(M.secondaryIndex=f,A.secondaryIndex=f);var N=NSArray.array(),P=n.exportOptions(),x=P.exportFormats();P.setExportFormats(N),r.setValue_forKey_onLayer_forPluginIdentifier({originalID:i,version:c},"original-layer",n,o);var D=n.immutableModelObject(),O=NSURL.fileURLWithPath(h);if("undefined"!=typeof MSArchiver)MSArchiver.archiveRootObject_withObjectIDs_toURL(D,!0,O);else{var T=MSJSONDataArchiver.archivedDataWithHeaderAndRootObject(D);T.writeToURL_atomically(O,!0)}return g.count()>0&&!function(){var t=e.stringByAppendingPathComponent("symbols");ICUtils.createDirectoryIfNotExist(t);var r=[];(0,l.iterate)(g,function(e){var a=e.symbolID(),o=NSURL.fileURLWithPath(t.stringByAppendingPathComponent(String(a)+".symbol")),n=void 0;n="undefined"!=typeof MSArchiver?MSArchiver.archivedDataWithRootObject_withObjectIDs(e,!0):MSJSONDataArchiver.archivedDataWithHeaderAndRootObject(e),n.writeToURL_atomically(o,!0),r.push(a)}),M.symbols=r}(),(0,s.saveMetadata)(m,M),P.setExportFormats(x),a(y,138,108,b),(0,s.setModificationDate)(e),A}function n(e,t,r){var a=e.stringByAppendingPathComponent(String(r)+".layer/metadata.json"),o=(0,s.readMetadata)(NSURL.fileURLWithPath(a)),n=t.documentData();o.symbols&&o.symbols.forEach(function(t){var r=n.symbolWithID(t);if(r){var a=e.stringByAppendingPathComponent("symbols/"+t+".symbol"),o=NSData.dataWithContentsOfFile(a);if(o){var i=void 0;i="undefined"!=typeof MSUnarchiver?MSUnarchiver.unarchiveObjectWithData(o):MSBaseUnarchiver.unarchiveObjectWithData(o);var l=void 0;l=i instanceof MSArchiveHeader?i.root():i;var s=l.class().mutableClass(),c=s.alloc().initWithImmutableModelObject(l);r.removeFromParent(),n.symbolsPageOrCreateIfNecessary().addLayers([c])}}})}function i(e,t,r,a,o,i){var s=NSMutableDictionary.alloc().init();(0,l.iterate)(i,function(r){var a=e.stringByAppendingPathComponent(String(r)+".layer/data"),o=NSData.dataWithContentsOfFile(a);if(o){var i=void 0;i="undefined"!=typeof MSUnarchiver?MSUnarchiver.unarchiveObjectWithData(o).root():MSBaseUnarchiver.unarchiveObjectWithData(o).root(),s.setObject_forKey(i,r)}n(e,t,r)}),(0,l.iterate)(o.children(),function(e){var t=r.valueForKey_onLayer_forPluginIdentifier("original-layer",e,a);if(t&&i.containsObject(t.originalID))if((0,l.isSymbol)(e)){var o=s.valueForKey(t.originalID),n=o.userInfo()["com.invisionlabs.library"]["original-layer"].version,c={originalID:t.originalID,version:n};r.setValue_forKey_onLayer_forPluginIdentifier(c,"original-layer",e,a)}else{var u=e.parentGroup();if(u){var d=s.valueForKey(t.originalID),f=d.class().mutableClass();if(d){var y=f.alloc().initWithImmutableModelObject(d);y.setObjectID(e.objectID());var g=e.rect(),v=y.rect();v.origin=g.origin,y.setRect(v),y.setName(e.name());var S=e.exportOptions().exportFormats();y.exportOptions().setExportFormats(S),u.insertLayers_afterLayer([y],e),e.removeFromParent()}}}})}Object.defineProperty(t,"__esModule",{value:!0}),t.add=o,t.reload=i;var l=r(1),s=r(11)},function(e,t){"use strict";function r(e){var t=NSString.stringWithContentsOfURL_encoding_error(e,NSUTF8StringEncoding,null);if(t)return JSON.parse(String(t))}function a(e,t){var r=e.stringByAppendingPathComponent("metadata.json"),a=ICUtils.objectToJSONString(t);a.writeToFile_atomically_encoding_error(r,!0,NSUTF8StringEncoding,null)}function o(e){var t=e.stringByAppendingPathComponent("metadata.json"),r=NSString.stringWithContentsOfURL_encoding_error(NSURL.fileURLWithPath(t),NSUTF8StringEncoding,null),o=void 0;o=r?JSON.parse(String(r)):{},o.modificationTime=Date.now(),a(e,o)}Object.defineProperty(t,"__esModule",{value:!0}),t.readMetadata=r,t.saveMetadata=a,t.setModificationDate=o},function(e,t,r){"use strict";function a(e){return e&&e.isEnabled()&&e.fillType()===s.FillType.Solid}function o(e){if(a(e))return e.color()}function n(e){var t=void 0;if(e instanceof MSTextLayer)t=e.textColor();else{var r=e.style();t=o(r.fill()),t||(t=o(r.border()))}if(t)return t.RGBADictionary()}function i(e,t,r,a,o,n){n||(n=NSUUID.UUID().UUIDString());var i=e.stringByAppendingPathComponent(String(n)+".color");ICUtils.createDirectoryIfNotExist(i);var l={color:t,index:a,category:o},s={objectID:n,color:t,index:a,category:o,objectType:"color"};return r&&(l.name=r,s.name=r),(0,c.saveMetadata)(i,l),(0,c.setModificationDate)(e),s}function l(e,t){if(e instanceof MSTextLayer)e.setTextColor(t);else{var r=e.style();a(r.fill())?r.fill().setColor(t):a(r.border())&&r.border().setColor(t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.getLayerColor=n,t.add=i,t.set=l;var s=r(13),c=r(11)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FillType={Solid:0,Gradient:1,Pattern:4,Noise:5},t.GradientType={Linear:0,Radial:1,Circular:2},t.PatternFillType={Tile:0,Fill:1},t.NoiseFillType={Original:0,Black:1,White:2,Color:3},t.BorderLineCapsStyle={Butt:0,Round:1,Square:2},t.BorderLineJoinStyle={Miter:0,Round:1,Bevel:2},t.LineDecorationType={None:0,OpenedArrow:1,ClosedArrow:2,Bar:3},t.BlurType={GaussianBlur:0,MotionBlur:1,ZoomBlur:2,BackgroundBlur:3},t.BorderPosition={Center:0,Inside:1,Outside:2,Both:3},t.MaskMode={Outline:0,Alpha:1},t.BooleanOperation={None:-1,Union:0,Subtract:1,Intersect:2,Difference:3},t.ExportOptionsFormat={PNG:"png",JPG:"jpg",TIFF:"tiff",PDF:"pdf",EPS:"eps",SVG:"svg"},t.BlendingMode={Normal:0,Darken:1,Multiply:2,ColorBurn:3,Lighten:4,Screen:5,ColorDodge:6,Overlay:7,SoftLight:8,HardLight:9,Difference:10,Exclusion:11,Hue:12,Saturation:13,Color:14,Luminosity:15},t.TextAlignment={Left:0,Right:1,Center:2,Justified:3},t.TextBehaviour={Auto:0,Fixed:1},t.CurvePointMode={Straight:1,Mirrored:2,Disconnected:4,Asymmetric:3},t.ModelClasses={MSModelObject:"MSModelObject",MSModelBase:"MSModelBase",MSDocumentData:"MSDocumentData",MSLayer:"MSLayer",MSShapeGroup:"MSShapeGroup",MSLayerGroup:"MSLayerGroup",MSPage:"MSPage",MSTextLayer:"MSTextLayer",MSBitmapLayer:"MSBitmapLayer",MSSliceLayer:"MSSliceLayer",MSArtboardGroup:"MSArtboardGroup",MSOvalShape:"MSOvalShape",MSRectangleShape:"MSRectangleShape",MSStarShape:"MSStarShape",MSPolygonShape:"MSPolygonShape",MSTriangleShape:"MSTriangleShape",MSStyle:"MSStyle",MSStyleBorder:"MSStyleBorder",MSStyleFill:"MSStyleFill",MSStyleShadow:"MSStyleShadow",MSStyleInnerShadow:"MSStyleInnerShadow",MSStyleBlur:"MSStyleBlur",MSStyleBorderOptions:"MSStyleBorderOptions",MSStyleColorControls:"MSStyleColorControls",MSStyleReflection:"MSStyleReflection"}},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){if("function"==typeof e.storage)return e.defaultLineHeight();var t=NSLayoutManager.alloc().init();return t.defaultLineHeightForFont(e.font())}function n(e){var t=e.lineHeight();t||(t=o(e));var r=e.fontPostscriptName(),a=e.fontSize(),n=e.textColor().RGBADictionary();return{fontPostscriptName:r,fontSize:a,lineHeight:t,color:n}}function i(e,t){e.setFontPostscriptName(t.fontPostscriptName),e.setFontSize(t.fontSize),e.setLineHeight(t.lineHeight),e.setTextColor((0,u.rgbaToMSColor)(t.color))}function l(e,t){var r=MSDocument.alloc().init(),a=r.currentPage(),o=d.layer.addTextLayerToGroup(a);o.setStringValue("Aa"),i(o,e),o.setFontSize(56),a.addLayers([o]);var n=MSExportRequest.exportRequestsFromExportableLayer(o),l=n.firstObject(),s=l.rect(),c=s.size,u=c.width,f=c.height,y=138,g=108;s.origin.x-=Math.round(y/2-u/2),s.origin.y-=Math.round(g/2-f/2),s.size.width=y,s.size.height=g,l.setRect(s),r.saveExportRequest_toFile(l,t),a.removeLayer(o)}function s(e,t,r,a,o,n){n||(n=NSUUID.UUID().UUIDString());var i=e.stringByAppendingPathComponent(String(n)+".textstyle");ICUtils.createDirectoryIfNotExist(i);var s=i.stringByAppendingPathComponent("preview.png");l(t,s);var u={textStyle:t,index:a,name:r,category:o};return(0,c.saveMetadata)(i,u),(0,c.setModificationDate)(e),{objectID:n,textStyle:t,index:a,category:o,name:r,objectType:"textstyle"}}Object.defineProperty(t,"__esModule",{value:!0}),t.getLayerTextStyle=n,t.set=i,t.add=s;var c=r(11),u=r(1),d=a(u)},function(e,t){"use strict";function r(e){var t=NSOpenPanel.openPanel();if(t.setCanChooseFiles(!1),t.setCanChooseDirectories(!0),t.setCanCreateDirectories(!0),e){var r=NSURL.fileURLWithPath_isDirectory(e,!0);t.setDirectoryURL(r)}if(t.runModal()===NSFileHandlingPanelOKButton)return t.URLs().lastObject().path()}Object.defineProperty(t,"__esModule",{value:!0}),t.showOpenPanel=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PADDING=20,t.COLUMNS=4,t.ARTBOARD_PADDING=50,t.PAGE_NAME="Styles"},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return y.page.getArtboardFromNameAndIndex(e,A,N)}function n(e){var t=e.immutableModelObject().hexValue(),r=e.alpha();return t+"-"+r}function i(e,t){var r=(0,f.getArray)(t.layers()),a=r[1],o=r[2],i=r.lastObject(),l=a.style().fill().color(),s=y.layer.getUserInfoValue(i,"com.invisionlabs.library/sync","rgba");if(s||(s=y.layer.getUserInfoValue(i,"com.invisionlabs.styles/sync","rgba"))){var c=MSColor.colorWithRed_green_blue_alpha(s.r,s.g,s.b,s.a);return{fromColor:c,toColor:l,toColorRgba:n(l),name:o.stringValue()}}}function l(e,t){var r=[],a={};return(0,f.iterate)((0,f.getArray)(t.layers()),function(t){var o=i(e,t);o&&(r.push(o),a[o.toColorRgba]=o)}),{data:r,variables:a}}function s(e){return Math.round(255*e)}function c(e){var t=s(e.red()),r=s(e.green()),a=s(e.blue()),o=(0,f.round100)(e.alpha());return"rgba("+t+", "+r+", "+a+", "+o+")"}function u(e,t,r,a,o,n){var i="#"+r.immutableModelObject().hexValue(),l=n*h+v.PADDING,s=o*b+v.PADDING,u=p,d=m,f=CGRectMake(l,s,u,d),S=y.layer.addGroupToGroup(f,t);S.setName("Swatch: "+i);var M=CGRectMake(0,0,p,m),A=y.layer.addRectangleLayerToGroup(M,S);A.setName("border"),y.layer.addBorder(A,"#dedede",g.BorderPosition.Inside);var N=CGRectMake(0,0,180,130),P=y.layer.addRectangleLayerToGroup(N,S);P.setName(i);var x=P.style(),D=x.fills(),O=void 0;O="function"==typeof D.addNewStylePart?D.addNewStylePart():x.addStylePartOfType(0),O.setColor(r),r.immutableModelObject().isWhite()&&y.layer.addBorder(P,"#dedede",g.BorderPosition.Inside);var T=y.layer.addTextLayerToGroup(S);T.setStringValue(a),T.setName(a),T.setFont(NSFont.fontWithName_size("HelveticaNeue-Bold",15)),T.setTextColor(y.color.fromString("#444"));var C=T.frame();C.setX(8),C.setY(137);var j=y.layer.addTextLayerToGroup(S);j.setStringValue(i),j.setName(i),j.setFont(NSFont.fontWithName_size("HelveticaNeue",13)),j.setTextColor(y.color.fromString("#777"));var _=j.frame();_.setX(8),_.setY(159);var I=y.layer.addTextLayerToGroup(S);e.setValue_forKey_onLayer(r.RGBADictionary(),"rgba",I),I.setStringValue(c(r)),I.setName("RGB Value"),I.setFont(NSFont.fontWithName_size("HelveticaNeue",12)),I.setTextColor(y.color.fromString("#777"));var L=I.frame();L.setX(8),L.setY(179)}function d(e,t,r,a,o){var i=e.groupColors(),l=i.count();if(!(l<1)){var s=Math.ceil(l/v.COLUMNS),c=h*v.COLUMNS+v.PADDING,d=s*b+v.PADDING;d<M&&(d=M);var g=CGRectMake(0,0,c,d),p=y.page.addArtboard(a,A,g),m=0,N=t.documentData().assets(),x=N.colors();return(0,f.iterate)(i,function(e){var t=e.color,a=y.color.fromString(t.hex);a.setAlpha(t.alpha);var i=(0,S.getValue)(o,n(a)),l=void 0;l=i?i.name:P,"function"==typeof x.addObject?x.addObject(a):N.addColor(a);var s=Math.floor(m/v.COLUMNS),c=m%v.COLUMNS;u(r,p,a,l,s,c),m+=1}),{colors:i,height:d}}}Object.defineProperty(t,"__esModule",{value:!0}),t.ARTBOARD_INDEX=t.ARTBOARD_NAME=void 0,t.getArtboard=o,t.getData=l,t.generate=d;var f=r(1),y=a(f),g=r(13),v=r(16),S=r(18),p=180,m=200,h=p+v.PADDING,b=m+v.PADDING,M=240,A=t.ARTBOARD_NAME="Color Palette",N=t.ARTBOARD_INDEX=0,P="Color name"},function(e,t){"use strict";function r(e,t){if(e)return e[t]}function a(e){return e?e.count():0}function o(e){var t=e.r,r=e.g,a=e.b,o=e.a,n=MSColor.colorWithRed_green_blue_alpha(t,r,a,o),i="#"+n.immutableModelObject().hexValue(),l=n.alpha();return{hex:i,alpha:l}}Object.defineProperty(t,"__esModule",{value:!0}),t.getValue=r,t.getCount=a,t.rgbaToHex=o},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return u.page.getArtboardFromNameAndIndex(e,h,b)}function n(e){var t=(0,c.getArray)(e.layers()),r=t[1],a=t.lastObject();return{fromFont:a.stringValue(),toFont:r.fontPostscriptName()}}function i(e){var t=[];return(0,c.iterate)((0,c.getArray)(e.layers()),function(e){t.push(n(e))}),t}function l(e,t,r,a){var o=t.fontName,n=t.example,i=a*v+f.PADDING,l=r*S+f.PADDING,s=y,c=g,p=CGRectMake(i,l,s,c),h=u.layer.addGroupToGroup(p,e);h.setName("Font: "+o);var b=CGRectMake(0,0,y,g),M=u.layer.addRectangleLayerToGroup(b,h);M.setName("border"),u.layer.addBorder(M,"#dedede",d.BorderPosition.Inside);var A=u.layer.addTextLayerToGroup(h);A.setStringValue("Aa Zz"),A.setName("Aa Zz"),A.setFontPostscriptName(o),A.setFontSize(20),A.setTextAlignment(d.TextAlignment.Center),
A.setTextColor(u.color.fromString("#444"));var N=A.frame();N.setX(0),N.setWidth(y),A.fontPostscriptName().isEqualToString(o)||(A.setStringValue(n),A.setFontPostscriptName(o));var P=u.layer.addTextLayerToGroup(h);P.setStringValue(o),P.setName(o),P.setFont(NSFont.fontWithName_size("HelveticaNeue",12)),P.setTextAlignment(d.TextAlignment.Center),P.setTextColor(u.color.fromString("#777"));var x=P.frame();x.setX(0),x.setWidth(y);var D=g/2-(N.height()+x.height()+m)/2;N.setY(D),x.setY(D+N.height()+m)}function s(e,t,r,a){var o=e.groupFonts(),n=o.count();if(!(n<1)){var i=Math.ceil(n/f.COLUMNS),s=v*f.COLUMNS+f.PADDING,d=i*S+f.PADDING;d<p&&(d=p);var y=CGRectMake(0,a+f.ARTBOARD_PADDING,s,d),g=u.page.addArtboard(r,h,y),m=0;return(0,c.iterate)(o,function(e){var t=Math.floor(m/f.COLUMNS),r=m%f.COLUMNS;l(g,e,t,r),m+=1}),d=a+f.ARTBOARD_PADDING+d,{fonts:o,height:d}}}Object.defineProperty(t,"__esModule",{value:!0}),t.ARTBOARD_INDEX=t.ARTBOARD_NAME=void 0,t.getArtboard=o,t.getData=i,t.generate=s;var c=r(1),u=a(c),d=r(13),f=r(16),y=180,g=120,v=y+f.PADDING,S=g+f.PADDING,p=120,m=10,h=t.ARTBOARD_NAME="Fonts",b=t.ARTBOARD_INDEX=1},function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return y.page.getArtboardFromNameAndIndex(e,b,M)}function n(e){var t=e.red(),r=e.green(),a=e.blue(),o=(299*t+587*r+114*a)/1e3;return o>.5}function i(e){var t=e.fontPostscriptName,r=e.colorHex,a=(0,f.round100)(e.fontSize),o=(0,f.round100)(e.colorAlpha),n=e.lineHeight;if(void 0===n&&(n=e.lineSpacing,null==n&&(n=0)),void 0!==n&&(n=(0,f.round100)(n)),0===n){var i=NSFont.fontWithName_size(t,a),l=NSLayoutManager.alloc().init();n=l.defaultLineHeightForFont(i)}return String(t)+"-"+a+"-"+n+"-"+r+"-"+o}function l(e,t,r){r.select_byExpandingSelection(!0,!1);var a=t.sharedStyleWithID(r.style().sharedObjectID()),o=y.action.get(e,"MSSyncSharedStyleAction");o.syncSharedStyle(a)}function s(e,t,r,a,o){var n=(0,f.getArray)(t.layers()),s=n[1],c=n[2],u=y.layer.getUserInfoValue(c,"com.invisionlabs.library/sync","style");if(u||(u=y.layer.getUserInfoValue(c,"com.invisionlabs.styles/sync","style"))){var d=c.textColor(),g=r.documentData().layerTextStyles();a&&a.forEach(function(e){return!e.fromColor.isEqual(d)||(d=e.toColor,c.setTextColor(d),l(r,g,c),!1)});var v="#"+d.immutableModelObject().hexValue(),S=(0,f.round100)(d.alpha()),p=c.fontPostscriptName();o&&o.forEach(function(e){return!e.fromFont.isEqualToString(p)||(p=e.toFont,c.setFontPostscriptName(p),l(r,g,c),!1)});var m={fontSize:(0,f.round100)(c.fontSize()),lineHeight:(0,f.round100)(c.lineHeight()),fontPostscriptName:p,colorHex:v,colorAlpha:S};return{name:s.stringValue(),sharedObjectID:c.style().sharedObjectID(),key:i(u),newKey:i(m),newData:m}}}function c(e,t,r,a,o){var n={},i=[],l=e.documentData().layerTextStyles();return(0,f.iterate)((0,f.getArray)(r.layers()),function(r){var c=r.layers().objectAtIndex(2);c.select_byExpandingSelection(!0,!1);var u=l.sharedStyleWithID(c.style().sharedObjectID()),d=y.action.get(e,"MSSyncSharedStyleAction");d.syncSharedStyle(u);var f=s(t,r,e,a,o);f&&(i.push(f),n[f.newKey]=f)}),{data:i,variables:n}}function u(e,t,r,a,o,i,l,s){var c=y.color.fromString(a.colorHex);c.setAlpha(a.colorAlpha);var u=n(c),d=void 0,v=void 0;u?(d=y.color.fromString("#fff"),v=y.color.fromString("#333")):(d=y.color.fromString("#333"),v=y.color.fromString("#fff"));var b=CGRectMake(0,s,S,p),M=y.layer.addGroupToGroup(b,r);M.setName("Text Style: "+(l+1));var A=CGRectMake(0,0,S,p),N=y.layer.addRectangleLayerToGroup(A,M);N.setName("Background");var P=N.style(),x=void 0,D=P.fills();x="function"==typeof D.addNewStylePart?D.addNewStylePart():P.addStylePartOfType(0),x.setColor(v);var O=y.layer.addTextLayerToGroup(M),T=void 0;T=o?o.name:i?"Paragraph":l<6?"H"+(l+1):"Text style",O.setStringValue(T),O.setName("Label"),O.setFont(NSFont.fontWithName_size("HelveticaNeue-Bold",14)),O.setTextAlignment(g.TextAlignment.Center),O.setTextColor(d);var C=O.frame();C.setX(m),C.setY(m),O.setTextBehaviour(g.TextBehaviour.Fixed),O.setTextBehaviour(g.TextBehaviour.Auto);var j=y.layer.addTextLayerToGroup(M);if(j.setStringValue(a.text),j.setName("Example"),j.setFontPostscriptName(a.fontPostscriptName),j.setFontSize(a.fontSize),j.setLineHeight(a.lineHeight),j.setTextColor(c),j.setTextAlignment(g.TextAlignment.Left),j.setTextBehaviour(1),j.setHeightIsClipped(!0),o){var _=t.sharedStyleWithID(o.sharedObjectID);_.setName(T),j.setStyle(_.newInstance())}else{var I=j.style();t.addSharedStyleWithName_firstInstance(T,I)}var L=C.y()+C.height()+h,R=j.frame();R.setX(m),R.setWidth(600),R.setHeight(a.lineHeight),R.setY(L),e.setValue_forKey_onLayer(a,"style",j);var F=String(a.fontPostscriptName)+" / "+(0,f.round100)(a.fontSize)+" px / "+(0,f.round100)(a.lineHeight)+" px Leading / "+String(a.colorHex);a.colorAlpha<1&&(F+=" ("+100*a.colorAlpha+"%)");var B=y.layer.addTextLayerToGroup(M);B.setStringValue(F),B.setName("Settings"),B.setFont(NSFont.fontWithName_size("HelveticaNeue",17)),B.setTextAlignment(g.TextAlignment.Left),B.setTextColor(d);var G=R.y()+R.height()+h,E=B.frame();E.setX(m),E.setY(G);var U=E.y()+E.height()+m;return N.frame().setHeight(U),U}function d(e,t,r,a,o,n){var l=e.groupTextStyles(),s=l.styles,c=l.maxItemsCount,d=t.documentData().layerTextStyles(),g=s.count();if(!(g<1)){var p=1e3,m=CGRectMake(0,n+v.ARTBOARD_PADDING,S,p),h=y.page.addArtboard(a,b,m),M=0,A=0,N=!1;(0,f.iterate)(s,function(e){var t=e.style,a=void 0;if(o){var n=i(t);a=o[n]}var l=void 0;!N&&c>1&&c===e.itemsCount?(l=!0,N=!0):l=!1,A+=u(r,d,h,t,a,l,M,A),M+=1}),h.frame().setHeight(A);var P=n+v.ARTBOARD_PADDING+A;return{textStyles:s,height:P}}}Object.defineProperty(t,"__esModule",{value:!0}),t.ARTBOARD_INDEX=t.ARTBOARD_NAME=void 0,t.getArtboard=o,t.getData=c,t.generate=d;var f=r(1),y=a(f),g=r(13),v=r(16),S=820,p=100,m=18,h=5,b=t.ARTBOARD_NAME="Text Styles",M=t.ARTBOARD_INDEX=2}])});